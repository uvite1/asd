# نظام رفع الفيديوهات من تليجرام إلى فيمو 📹🤖

## نظرة عامة
هذا النظام يسمح للمعلمين برفع الفيديوهات من تليجرام مباشرة إلى حساب فيمو، مع إرسال رابط فيمو تلقائياً للمعلمين.

## المميزات الرئيسية

### 🎯 للمعلمين:
- رفع الفيديوهات مباشرة من تليجرام
- استلام رابط فيمو تلقائياً
- تتبع إحصائيات الرفعات
- واجهة سهلة الاستخدام

### 🔧 للمديرين:
- إدارة قائمة المعلمين المصرح لهم
- مراقبة إحصائيات النظام
- التحكم في الصلاحيات
- تتبع نشاط المعلمين

## المتطلبات الأساسية

### 1. حساب فيمو مع API
- حساب فيمو نشط
- بيانات API (Access Token, Client ID, Client Secret)

### 2. بوت تليجرام
- بوت تليجرام جديد من @BotFather
- توكن البوت

### 3. Python 3.8+
- تثبيت Python على النظام

## خطوات الإعداد

### الخطوة 1: إنشاء بوت تليجرام

1. اذهب إلى @BotFather في تليجرام
2. اكتب `/newbot`
3. اتبع التعليمات لإنشاء البوت
4. احفظ توكن البوت

### الخطوة 2: إعداد بيانات فيمو

1. اذهب إلى https://developer.vimeo.com/apps
2. أنشئ تطبيق جديد
3. احصل على:
   - Access Token
   - Client ID
   - Client Secret

### الخطوة 3: تثبيت المتطلبات

```bash
pip install -r requirements.txt
```

### الخطوة 4: إعداد ملف البيئة

انسخ ملف `.env.example` إلى `.env` واملأ البيانات:

```env
# بيانات فيمو
VIMEO_ACCESS_TOKEN=your_vimeo_access_token
VIMEO_CLIENT_ID=your_vimeo_client_id
VIMEO_CLIENT_SECRET=your_vimeo_client_secret

# توكن بوت تليجرام
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
```

### الخطوة 5: تشغيل النظام

```bash
python telegram_bot.py
```

## كيفية الاستخدام

### للمعلمين:

#### 1. بدء البوت
```
/start
```

#### 2. رفع فيديو
- أرسل الفيديو مباشرة للبوت
- أو أرسل ملف فيديو كملف

#### 3. الأوامر المتاحة
- `/help` - عرض المساعدة
- `/stats` - إحصائياتك
- `/status` - حالة البوت

### للمديرين:

#### 1. إضافة معلم جديد
```
/add_teacher [user_id] [name]
```

#### 2. عرض إحصائيات النظام
```
/admin_stats
```

#### 3. إدارة المعلمين
- `/remove_teacher [user_id]` - إزالة معلم
- `/toggle_teacher [user_id]` - تفعيل/إلغاء تفعيل

## هيكل الملفات

```
vimeo-uploader/
├── telegram_bot.py          # البوت الرئيسي
├── teacher_manager.py       # نظام إدارة المعلمين
├── app.py                   # التطبيق القديم (اختياري)
├── requirements.txt         # المتطلبات
├── .env.example            # مثال ملف البيئة
├── teachers.json           # بيانات المعلمين (يُنشأ تلقائياً)
└── templates/              # قوالب الويب (للنظام القديم)
    └── index.html
```

## إدارة المعلمين

### إضافة معلم جديد:
1. احصل على معرف المستخدم من تليجرام
2. استخدم الأمر: `/add_teacher [user_id] [name]`

### معرفة معرف المستخدم:
1. اطلب من المعلم إرسال رسالة للبوت
2. ابحث في سجلات البوت عن معرف المستخدم
3. أو استخدم بوت @userinfobot

## الأمان والصلاحيات

### نظام الصلاحيات:
- **معلم**: يمكنه رفع الفيديوهات فقط
- **مدير**: يمكنه إدارة المعلمين والنظام

### حدود الأمان:
- الحد الأقصى لحجم الفيديو: 50 ميجابايت
- صيغ الفيديو المدعومة: MP4, AVI, MOV, MKV
- التحقق من نوع الملف قبل الرفع

## حل المشاكل الشائعة

### البوت لا يستجيب:
- تأكد من صحة توكن البوت
- تأكد من تشغيل البوت
- تحقق من سجلات الخطأ

### خطأ في رفع الفيديو:
- تأكد من صحة بيانات فيمو API
- تحقق من حجم الفيديو
- تأكد من صيغة الفيديو

### المعلم لا يستطيع الوصول:
- تأكد من إضافة المعلم لقائمة المصرح لهم
- تحقق من حالة المعلم (نشط/غير نشط)

## الإحصائيات والتتبع

### إحصائيات المعلم:
- عدد الفيديوهات المرفوعة
- تاريخ التسجيل
- حالة الحساب

### إحصائيات النظام:
- إجمالي المعلمين
- المعلمين النشطين
- إجمالي الفيديوهات المرفوعة
- متوسط الرفعات لكل معلم

## التطوير والتخصيص

### إضافة ميزات جديدة:
1. تعديل `telegram_bot.py`
2. إضافة معالجات جديدة
3. تحديث نظام إدارة المعلمين

### تخصيص الرسائل:
- تعديل النصوص في الملفات
- إضافة دعم للغات أخرى
- تخصيص التصميم

## الدعم الفني

### للحصول على المساعدة:
1. تحقق من سجلات الخطأ
2. تأكد من إعدادات API
3. راجع هذا الدليل

### معلومات الاتصال:
- للمشاكل التقنية: راجع سجلات البوت
- للدعم: راسل المدير

## ملاحظات مهمة

⚠️ **تحذيرات أمنية:**
- لا تشارك بيانات API مع أي شخص
- احتفظ بنسخة احتياطية من ملف المعلمين
- راقب نشاط البوت بانتظام

📝 **ملاحظات تقنية:**
- البوت يحتاج اتصال إنترنت مستقر
- احتفظ بمساحة كافية على القرص
- راقب استهلاك البيانات

🎯 **نصائح للاستخدام الأمثل:**
- شجع المعلمين على ضغط الفيديوهات قبل الرفع
- راقب إحصائيات النظام بانتظام
- حدث قائمة المعلمين دورياً